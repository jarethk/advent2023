Part 1 - have to collapse states of 3-dimensional space with gravity only on z.  First sort the bricks by z, and then from the bottom up we pull them down.  Should only take 1 pass, but I do a 2nd pass just-in-case (ie. for no reason).  Once settled, map out what bricks are above/below each other, and use that to determine what could be removed if the bricks above are resting on a 2nd brick.