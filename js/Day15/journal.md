Part 1 - almost too easy, a simple hashing algorithm on a comma-delimited sequence of strings.  And the catch in part 2 is??

Part 2 - step-by-step instructions for keeping our boxes of lenses up-to-date.  Straightforward, even the reduction math.